"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const setup_1 = require("./setup");
describe('App setup', () => {
    it('should setup the app with some basic endpoints', async () => {
        const fastifyInstance = {
            register: jest.fn(),
            get: jest.fn(),
        };
        await (0, setup_1.setupApp)(fastifyInstance, { routes: [] });
        expect(fastifyInstance.register).toBeCalledTimes(1);
        expect(fastifyInstance.get).toBeCalledWith('/info', { logLevel: 'error' }, expect.anything());
    });
    it('should setup the app and load configuration, loading a default port', async () => {
        const fastifyInstance = {
            register: jest.fn(),
            get: jest.fn(),
        };
        const port = await (0, setup_1.setupApp)(fastifyInstance, { routes: [] });
        expect(port).toBe(4000);
    });
});
//# sourceMappingURL=setup.test.js.map