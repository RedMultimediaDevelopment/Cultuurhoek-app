"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const controller_1 = require("./controller");
describe('Should provide replies in expected format', () => {
    it('Should reply with a `message: ok` property', () => {
        const replyMock = {
            send: jest.fn(),
        };
        (0, controller_1.infoController)({}, replyMock);
        expect(replyMock.send).toBeCalledWith(expect.objectContaining({ message: 'OK' }));
    });
    it('Should reply with a `version: notset` property if a version was not set', () => {
        const replyMock = {
            send: jest.fn(),
        };
        (0, controller_1.infoController)({}, replyMock);
        expect(replyMock.send).toBeCalledWith(expect.objectContaining({ version: 'notset' }));
    });
    it('Should reply with a `version: 1.0.0` property if the version was set to 1.0.0', () => {
        const replyMock = {
            send: jest.fn(),
        };
        process.env.VERSION = '1.0.0';
        (0, controller_1.infoController)({}, replyMock);
        expect(replyMock.send).toBeCalledWith(expect.objectContaining({ version: '1.0.0' }));
    });
});
//# sourceMappingURL=controller.test.js.map