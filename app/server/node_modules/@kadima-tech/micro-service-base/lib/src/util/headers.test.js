"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const headers_1 = require("./headers");
describe('Hostname determination', () => {
    it('Should return a host if one is available in the request', () => {
        const host = (0, headers_1.getHost)({ headers: { host: 'some-host' } });
        expect(host).toBe('some-host');
    });
    it('Should return a x-forwarded-host as host if one is available in the request', () => {
        const host = (0, headers_1.getHost)({
            headers: { 'x-forwarded-host': 'some-host' },
        });
        expect(host).toBe('some-host');
    });
    it('Should return a x-forwarded-host as preferred host if one is available in the request', () => {
        const host = (0, headers_1.getHost)({
            headers: { host: 'some-other-host', 'x-forwarded-host': 'some-host' },
        });
        expect(host).toBe('some-host');
    });
    it('Should return the first x-forwarded-host as preferred host if multiple are provided in the request', () => {
        const host = (0, headers_1.getHost)({
            headers: {
                host: 'some-other-host',
                'x-forwarded-host': ['some-host', 'some-wrong-host'],
            },
        });
        expect(host).toBe('some-host');
    });
});
//# sourceMappingURL=headers.test.js.map